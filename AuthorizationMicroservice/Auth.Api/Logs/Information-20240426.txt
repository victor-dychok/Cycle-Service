2024-04-26 10:14:49.578 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-26 10:14:50.194 +03:00 [INF] Now listening on: https://localhost:7104
2024-04-26 10:14:50.194 +03:00 [INF] Now listening on: http://localhost:5148
2024-04-26 10:14:50.235 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-26 10:14:50.236 +03:00 [INF] Hosting environment: Development
2024-04-26 10:14:50.236 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-04-26 10:14:52.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger - null null
2024-04-26 10:14:52.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger - 301 0 null 218.0332ms
2024-04-26 10:14:52.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-04-26 10:14:52.802 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 60.4148ms
2024-04-26 10:15:31.977 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-26 10:15:32.263 +03:00 [INF] Now listening on: https://localhost:7104
2024-04-26 10:15:32.264 +03:00 [INF] Now listening on: http://localhost:5148
2024-04-26 10:15:32.306 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-26 10:15:32.307 +03:00 [INF] Hosting environment: Development
2024-04-26 10:15:32.307 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-04-26 10:15:33.340 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-04-26 10:15:33.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 238.2045ms
2024-04-26 10:15:33.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - null null
2024-04-26 10:15:33.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/swagger-ui.css - null null
2024-04-26 10:15:33.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/swagger-ui-standalone-preset.js - null null
2024-04-26 10:15:33.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_vs/browserLink - null null
2024-04-26 10:15:33.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/swagger-ui-bundle.js - null null
2024-04-26 10:15:33.612 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 16.7918ms
2024-04-26 10:15:33.649 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-04-26 10:15:33.649 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-04-26 10:15:33.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/swagger-ui.css - 200 143943 text/css 57.9152ms
2024-04-26 10:15:33.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 57.6903ms
2024-04-26 10:15:33.656 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-04-26 10:15:33.657 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 61.726ms
2024-04-26 10:15:33.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.9095ms
2024-04-26 10:15:33.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - null null
2024-04-26 10:15:33.908 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/favicon-32x32.png - null null
2024-04-26 10:15:33.909 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-04-26 10:15:33.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/favicon-32x32.png - 200 628 image/png 0.9351ms
2024-04-26 10:15:33.979 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.4812ms
2024-04-26 10:15:54.071 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - application/json 48
2024-04-26 10:15:54.826 +03:00 [INF] Executing endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-04-26 10:15:54.847 +03:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Authorization.Application.Requests.Comands.CreateJwtToken.CreateJwtTokenComand, MediatR.IMediator, System.Threading.CancellationToken) on controller UserAPI.Controllers.AuthController (Auth.Api).
2024-04-26 10:15:58.565 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__Trim_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Login], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[Login] = @__Trim_0
2024-04-26 10:15:58.692 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
WHERE [u].[Login] = @__request_Login_0
2024-04-26 10:15:58.714 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-04-26 10:15:58.880 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2024-04-26 10:15:58.905 +03:00 [INF] Executing OkObjectResult, writing value of type 'Authorization.dto.JwtTokenDto'.
2024-04-26 10:15:58.913 +03:00 [INF] Executed action UserAPI.Controllers.AuthController.Post (Auth.Api) in 4063.739ms
2024-04-26 10:15:58.914 +03:00 [INF] Executed endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-04-26 10:15:58.920 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - 200 null application/json; charset=utf-8 4849.7183ms
2024-04-26 10:16:16.530 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/Auth/GetMyInfo - null null
2024-04-26 10:16:16.571 +03:00 [INF] Executing endpoint 'UserAPI.Controllers.AuthController.GetMyInfo (Auth.Api)'
2024-04-26 10:16:16.576 +03:00 [INF] Route matched with {action = "GetMyInfo", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyInfo(MediatR.IMediator, System.Threading.CancellationToken) on controller UserAPI.Controllers.AuthController (Auth.Api).
2024-04-26 10:16:16.680 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Login], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-04-26 10:16:16.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'Authorization.dto.GetUserDto'.
2024-04-26 10:16:16.687 +03:00 [INF] Executed action UserAPI.Controllers.AuthController.GetMyInfo (Auth.Api) in 111.4881ms
2024-04-26 10:16:16.687 +03:00 [INF] Executed endpoint 'UserAPI.Controllers.AuthController.GetMyInfo (Auth.Api)'
2024-04-26 10:16:16.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/Auth/GetMyInfo - 200 null application/json; charset=utf-8 157.8606ms
2024-04-26 10:33:42.903 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-26 10:33:43.127 +03:00 [INF] Now listening on: https://localhost:7104
2024-04-26 10:33:43.127 +03:00 [INF] Now listening on: http://localhost:5148
2024-04-26 10:33:43.161 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-26 10:33:43.161 +03:00 [INF] Hosting environment: Development
2024-04-26 10:33:43.162 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-04-26 10:33:44.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-04-26 10:33:44.364 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 212.5004ms
2024-04-26 10:33:44.393 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - null null
2024-04-26 10:33:44.393 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_vs/browserLink - null null
2024-04-26 10:33:44.399 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 6.8982ms
2024-04-26 10:33:44.441 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.7007ms
2024-04-26 10:33:44.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - null null
2024-04-26 10:33:44.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.052ms
2024-04-26 14:32:54.799 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-26 14:32:55.010 +03:00 [INF] Now listening on: https://localhost:7104
2024-04-26 14:32:55.011 +03:00 [INF] Now listening on: http://localhost:5148
2024-04-26 14:32:55.047 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-26 14:32:55.047 +03:00 [INF] Hosting environment: Development
2024-04-26 14:32:55.047 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-04-26 14:32:56.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-04-26 14:32:56.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 238.7877ms
2024-04-26 14:32:56.687 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_vs/browserLink - null null
2024-04-26 14:32:56.687 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - null null
2024-04-26 14:32:56.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 7.0863ms
2024-04-26 14:32:56.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.8469ms
2024-04-26 14:32:56.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - null null
2024-04-26 14:32:56.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.3552ms
2024-04-26 14:33:07.997 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - application/json 48
2024-04-26 14:33:08.944 +03:00 [INF] Executing endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-04-26 14:33:08.964 +03:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Authorization.Application.Requests.Comands.CreateJwtToken.CreateJwtTokenComand, MediatR.IMediator, System.Threading.CancellationToken) on controller UserAPI.Controllers.AuthController (Auth.Api).
2024-04-26 14:33:13.073 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__Trim_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Login], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[Login] = @__Trim_0
2024-04-26 14:33:13.201 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
WHERE [u].[Login] = @__request_Login_0
2024-04-26 14:33:13.223 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-04-26 14:33:13.443 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2024-04-26 14:33:13.470 +03:00 [INF] Executing OkObjectResult, writing value of type 'Authorization.dto.JwtTokenDto'.
2024-04-26 14:33:13.479 +03:00 [INF] Executed action UserAPI.Controllers.AuthController.Post (Auth.Api) in 4512.3522ms
2024-04-26 14:33:13.479 +03:00 [INF] Executed endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-04-26 14:33:13.486 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - 200 null application/json; charset=utf-8 5489.1618ms
