2024-05-08 13:08:32.514 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-08 13:08:33.324 +03:00 [INF] Now listening on: https://localhost:7104
2024-05-08 13:08:33.324 +03:00 [INF] Now listening on: http://localhost:5148
2024-05-08 13:08:33.421 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-08 13:08:33.423 +03:00 [INF] Hosting environment: Development
2024-05-08 13:08:33.423 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-05-08 13:08:38.389 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-05-08 13:08:39.000 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 642.7065ms
2024-05-08 13:09:30.232 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-08 13:09:31.414 +03:00 [INF] Now listening on: https://localhost:7104
2024-05-08 13:09:31.414 +03:00 [INF] Now listening on: http://localhost:5148
2024-05-08 13:09:31.448 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-08 13:09:31.449 +03:00 [INF] Hosting environment: Development
2024-05-08 13:09:31.449 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-05-08 13:09:34.499 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-05-08 13:09:35.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 1068.8728ms
2024-05-08 13:09:35.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - null null
2024-05-08 13:09:35.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_vs/browserLink - null null
2024-05-08 13:09:35.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 23.1252ms
2024-05-08 13:09:35.988 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_vs/browserLink - 200 null text/javascript; charset=UTF-8 284.7718ms
2024-05-08 13:09:36.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - null null
2024-05-08 13:09:36.883 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 499.7644ms
2024-05-08 13:10:05.576 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - application/json 48
2024-05-08 13:10:07.044 +03:00 [INF] Executing endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-05-08 13:10:07.087 +03:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Authorization.Application.Requests.Comands.CreateJwtToken.CreateJwtTokenComand, MediatR.IMediator, System.Threading.CancellationToken) on controller UserAPI.Controllers.AuthController (Auth.Api).
2024-05-08 13:10:13.685 +03:00 [INF] Executed DbCommand (177ms) [Parameters=[@__Trim_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Login], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[Login] = @__Trim_0
2024-05-08 13:10:13.861 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
WHERE [u].[Login] = @__request_Login_0
2024-05-08 13:10:13.889 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-05-08 13:10:13.901 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-05-08 13:10:14.103 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2024-05-08 13:10:14.129 +03:00 [INF] Executing OkObjectResult, writing value of type 'Authorization.dto.JwtTokenDto'.
2024-05-08 13:10:14.136 +03:00 [INF] Executed action UserAPI.Controllers.AuthController.Post (Auth.Api) in 7046.3491ms
2024-05-08 13:10:14.136 +03:00 [INF] Executed endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-05-08 13:10:14.156 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - 200 null application/json; charset=utf-8 8579.7259ms
2024-05-08 13:25:03.718 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-08 13:25:04.178 +03:00 [INF] Now listening on: https://localhost:7104
2024-05-08 13:25:04.178 +03:00 [INF] Now listening on: http://localhost:5148
2024-05-08 13:25:04.236 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-08 13:25:04.237 +03:00 [INF] Hosting environment: Development
2024-05-08 13:25:04.238 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-05-08 13:25:06.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-05-08 13:25:06.938 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 274.8911ms
2024-05-08 13:25:06.982 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - null null
2024-05-08 13:25:06.986 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_vs/browserLink - null null
2024-05-08 13:25:07.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 20.2951ms
2024-05-08 13:25:07.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_vs/browserLink - 200 null text/javascript; charset=UTF-8 198.5208ms
2024-05-08 13:25:07.414 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - null null
2024-05-08 13:25:07.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.827ms
2024-05-08 13:25:24.950 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - application/json 48
2024-05-08 13:25:25.047 +03:00 [INF] Executing endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-05-08 13:25:25.085 +03:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Authorization.Application.Requests.Comands.CreateJwtToken.CreateJwtTokenComand, MediatR.IMediator, System.Threading.CancellationToken) on controller UserAPI.Controllers.AuthController (Auth.Api).
2024-05-08 13:25:26.973 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__Trim_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Login], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[Login] = @__Trim_0
2024-05-08 13:25:27.163 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
WHERE [u].[Login] = @__request_Login_0
2024-05-08 13:25:27.207 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-05-08 13:25:27.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-05-08 13:25:27.434 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2024-05-08 13:25:27.477 +03:00 [INF] Executing OkObjectResult, writing value of type 'Authorization.dto.JwtTokenDto'.
2024-05-08 13:25:27.485 +03:00 [INF] Executed action UserAPI.Controllers.AuthController.Post (Auth.Api) in 2397.5676ms
2024-05-08 13:25:27.485 +03:00 [INF] Executed endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-05-08 13:25:27.500 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - 200 null application/json; charset=utf-8 2549.9717ms
2024-05-08 16:08:03.121 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-08 16:08:03.568 +03:00 [INF] Now listening on: https://localhost:7104
2024-05-08 16:08:03.568 +03:00 [INF] Now listening on: http://localhost:5148
2024-05-08 16:08:03.635 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-08 16:08:03.636 +03:00 [INF] Hosting environment: Development
2024-05-08 16:08:03.636 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-05-08 16:08:06.787 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-05-08 16:08:07.057 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 293.5417ms
2024-05-08 16:08:07.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_vs/browserLink - null null
2024-05-08 16:08:07.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - null null
2024-05-08 16:08:07.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 9.0605ms
2024-05-08 16:08:07.196 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.9177ms
2024-05-08 16:08:07.265 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - null null
2024-05-08 16:08:07.397 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.0345ms
2024-05-08 16:08:20.576 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - application/json 48
2024-05-08 16:08:20.852 +03:00 [INF] Executing endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-05-08 16:08:20.882 +03:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Authorization.Application.Requests.Comands.CreateJwtToken.CreateJwtTokenComand, MediatR.IMediator, System.Threading.CancellationToken) on controller UserAPI.Controllers.AuthController (Auth.Api).
2024-05-08 16:08:23.654 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__Trim_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Login], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[Login] = @__Trim_0
2024-05-08 16:08:23.808 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
WHERE [u].[Login] = @__request_Login_0
2024-05-08 16:08:23.840 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-05-08 16:08:23.857 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-05-08 16:08:24.055 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2024-05-08 16:08:24.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'Authorization.dto.JwtTokenDto'.
2024-05-08 16:08:24.092 +03:00 [INF] Executed action UserAPI.Controllers.AuthController.Post (Auth.Api) in 3207.6783ms
2024-05-08 16:08:24.092 +03:00 [INF] Executed endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-05-08 16:08:24.099 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - 200 null application/json; charset=utf-8 3522.74ms
2024-05-08 16:11:39.161 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-08 16:11:39.564 +03:00 [INF] Now listening on: https://localhost:7104
2024-05-08 16:11:39.565 +03:00 [INF] Now listening on: http://localhost:5148
2024-05-08 16:11:39.652 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-08 16:11:39.652 +03:00 [INF] Hosting environment: Development
2024-05-08 16:11:39.652 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\AuthorizationMicroservice\Auth.Api
2024-05-08 16:11:40.644 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/index.html - null null
2024-05-08 16:11:40.899 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/index.html - 200 null text/html;charset=utf-8 262.4074ms
2024-05-08 16:11:40.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_vs/browserLink - null null
2024-05-08 16:11:40.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - null null
2024-05-08 16:11:40.939 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 5.6864ms
2024-05-08 16:11:40.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.2392ms
2024-05-08 16:11:41.085 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - null null
2024-05-08 16:11:41.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7104/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.4244ms
2024-05-08 16:11:55.454 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - application/json 48
2024-05-08 16:11:55.539 +03:00 [INF] Executing endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-05-08 16:11:55.559 +03:00 [INF] Route matched with {action = "Post", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Authorization.Application.Requests.Comands.CreateJwtToken.CreateJwtTokenComand, MediatR.IMediator, System.Threading.CancellationToken) on controller UserAPI.Controllers.AuthController (Auth.Api).
2024-05-08 16:11:56.802 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__Trim_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Login], [u].[PasswordHash]
FROM [Users] AS [u]
WHERE [u].[Login] = @__Trim_0
2024-05-08 16:11:56.912 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
WHERE [u].[Login] = @__request_Login_0
2024-05-08 16:11:56.936 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-05-08 16:11:56.947 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_RoleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Id] = @__role_RoleId_0
2024-05-08 16:11:57.071 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2024-05-08 16:11:57.096 +03:00 [INF] Executing OkObjectResult, writing value of type 'Authorization.dto.JwtTokenDto'.
2024-05-08 16:11:57.104 +03:00 [INF] Executed action UserAPI.Controllers.AuthController.Post (Auth.Api) in 1541.9695ms
2024-05-08 16:11:57.104 +03:00 [INF] Executed endpoint 'UserAPI.Controllers.AuthController.Post (Auth.Api)'
2024-05-08 16:11:57.114 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7104/Auth/CreateJwtToken - 200 null application/json; charset=utf-8 1659.7935ms
