2024-06-17 09:53:17.306 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 09:53:17.457 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 09:53:17.466 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 09:53:17.471 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 09:53:17.484 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 09:53:17.484 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 09:53:17.484 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 09:53:17.484 +03:00 [INF] Hosting environment: Development
2024-06-17 09:53:17.484 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 09:53:18.214 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 09:53:18.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 279.8788ms
2024-06-17 09:53:18.635 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 09:53:18.637 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 1.6768ms
2024-06-17 09:53:18.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 09:53:18.682 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7775ms
2024-06-17 09:53:18.793 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 09:53:18.882 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.2432ms
2024-06-17 09:53:30.119 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users - null null
2024-06-17 09:53:30.122 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 09:53:31.136 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetAll (User.Api)'
2024-06-17 09:53:31.157 +03:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Users.Application.Query.GetAll.GetListQuery, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 09:53:33.844 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
ORDER BY [u].[Id]
2024-06-17 09:53:33.953 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE 0 = 1
2024-06-17 09:53:33.963 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Users.Application.dto.GetUserDto, Users.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 09:53:33.970 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetAll (User.Api) in 2809.9831ms
2024-06-17 09:53:33.971 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetAll (User.Api)'
2024-06-17 09:53:33.979 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users - 200 null application/json; charset=utf-8 3859.3297ms
2024-06-17 09:54:28.107 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=80255370579 - null 0
2024-06-17 09:54:28.116 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:54:28.120 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 09:54:28.136 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-17 09:54:28.151 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 31.1141ms
2024-06-17 09:54:28.151 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:54:28.151 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=80255370579 - 400 null application/problem+json; charset=utf-8 44.2197ms
2024-06-17 09:54:40.993 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375255370579 - null 0
2024-06-17 09:54:40.997 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:54:40.997 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 09:54:41.203 +03:00 [INF] Executed DbCommand (164ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__request_Login_0
2024-06-17 09:54:41.504 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 506.9313ms
2024-06-17 09:54:41.505 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:54:41.507 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'AppUser' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at Users.Percistance.SqlServerBaseReository`1.UpdateAsync(TEntity item, CancellationToken cancellationToken)
   at Users.Application.Comands.UpdateUser.UpdateUserComandHandler.Handle(UpdateUserComand request, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Requests\Comands\UpdateUser\UpdateUserComandHandler.cs:line 39
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 25
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 32
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 34
   at Users.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ValidationBehavior.cs:line 24
   at User.Api.Controllers.UserController.Put(UpdateUserComand newItem, IMediator mediator, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 09:54:41.552 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375255370579 - 500 null text/plain; charset=utf-8 558.5657ms
2024-06-17 09:55:28.970 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 09:55:29.126 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 09:55:29.135 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 09:55:29.140 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 09:55:29.153 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 09:55:29.153 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 09:55:29.153 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 09:55:29.153 +03:00 [INF] Hosting environment: Development
2024-06-17 09:55:29.153 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 09:55:30.152 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 09:55:30.472 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 328.2042ms
2024-06-17 09:55:30.641 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 09:55:30.643 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 2.5137ms
2024-06-17 09:55:30.655 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 09:55:30.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.5962ms
2024-06-17 09:55:30.818 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 09:55:30.912 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.6646ms
2024-06-17 09:56:01.721 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - null 0
2024-06-17 09:56:01.724 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 09:56:01.833 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:56:01.851 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 09:56:15.880 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__request_Login_0
2024-06-17 09:56:23.949 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 22094.923ms
2024-06-17 09:56:23.950 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:56:23.952 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'AppUser' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at Users.Percistance.SqlServerBaseReository`1.UpdateAsync(TEntity item, CancellationToken cancellationToken)
   at Users.Application.Comands.UpdateUser.UpdateUserComandHandler.Handle(UpdateUserComand request, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Requests\Comands\UpdateUser\UpdateUserComandHandler.cs:line 39
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 25
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 32
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 34
   at Users.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ValidationBehavior.cs:line 24
   at User.Api.Controllers.UserController.Put(UpdateUserComand newItem, IMediator mediator, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 09:56:23.982 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - 500 null text/plain; charset=utf-8 22261.1763ms
2024-06-17 09:57:45.579 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 09:57:45.748 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 09:57:45.758 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 09:57:45.763 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 09:57:45.777 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 09:57:45.777 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 09:57:45.777 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 09:57:45.777 +03:00 [INF] Hosting environment: Development
2024-06-17 09:57:45.777 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 09:57:46.691 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 09:57:46.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 289.6265ms
2024-06-17 09:57:47.140 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 09:57:47.143 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 2.4412ms
2024-06-17 09:57:47.150 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 09:57:47.181 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.4579ms
2024-06-17 09:57:47.279 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 09:57:47.384 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.7218ms
2024-06-17 09:58:17.817 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299552704 - null 0
2024-06-17 09:58:17.821 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 09:58:17.931 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:58:17.950 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 09:58:26.048 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__request_Login_0
2024-06-17 09:58:30.303 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 12350.392ms
2024-06-17 09:58:30.304 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:58:30.307 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'AppUser' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at Users.Percistance.SqlServerBaseReository`1.UpdateAsync(TEntity item, CancellationToken cancellationToken)
   at Users.Application.Comands.UpdateUser.UpdateUserComandHandler.Handle(UpdateUserComand request, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Requests\Comands\UpdateUser\UpdateUserComandHandler.cs:line 39
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 25
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 32
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 34
   at Users.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ValidationBehavior.cs:line 24
   at User.Api.Controllers.UserController.Put(UpdateUserComand newItem, IMediator mediator, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 09:58:30.346 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299552704 - 500 null text/plain; charset=utf-8 12529.403ms
2024-06-17 09:59:34.059 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 09:59:34.258 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 09:59:34.279 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 09:59:34.286 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 09:59:34.302 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 09:59:34.302 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 09:59:34.302 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 09:59:34.303 +03:00 [INF] Hosting environment: Development
2024-06-17 09:59:34.303 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 09:59:35.074 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 09:59:35.336 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 271.7634ms
2024-06-17 09:59:35.473 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 09:59:35.476 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 2.72ms
2024-06-17 09:59:35.484 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 09:59:35.523 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.5563ms
2024-06-17 09:59:35.622 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 09:59:35.721 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.5199ms
2024-06-17 09:59:55.387 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master - null 0
2024-06-17 09:59:55.391 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 09:59:55.501 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:59:55.520 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 09:59:55.569 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-17 09:59:55.584 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 61.6844ms
2024-06-17 09:59:55.584 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 09:59:55.584 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master - 400 null application/problem+json; charset=utf-8 196.9626ms
2024-06-17 10:00:19.487 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - null 0
2024-06-17 10:00:19.505 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:00:19.505 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:00:27.867 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__request_Login_0
2024-06-17 10:00:28.197 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 8691.7877ms
2024-06-17 10:00:28.198 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:00:28.201 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'AppUser' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at Users.Percistance.SqlServerBaseReository`1.UpdateAsync(TEntity item, CancellationToken cancellationToken)
   at Users.Application.Comands.UpdateUser.UpdateUserComandHandler.Handle(UpdateUserComand request, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Requests\Comands\UpdateUser\UpdateUserComandHandler.cs:line 40
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 25
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 32
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 34
   at Users.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ValidationBehavior.cs:line 24
   at User.Api.Controllers.UserController.Put(UpdateUserComand newItem, IMediator mediator, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 10:00:28.238 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - 500 null text/plain; charset=utf-8 8751.1231ms
2024-06-17 10:01:03.857 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - null 0
2024-06-17 10:01:03.861 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:01:03.862 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:01:03.895 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__request_Login_0
2024-06-17 10:01:11.082 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 7219.478ms
2024-06-17 10:01:11.082 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:01:11.083 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'AppUser' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at Users.Percistance.SqlServerBaseReository`1.UpdateAsync(TEntity item, CancellationToken cancellationToken)
   at Users.Application.Comands.UpdateUser.UpdateUserComandHandler.Handle(UpdateUserComand request, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Requests\Comands\UpdateUser\UpdateUserComandHandler.cs:line 40
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 25
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 32
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 34
   at Users.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ValidationBehavior.cs:line 24
   at User.Api.Controllers.UserController.Put(UpdateUserComand newItem, IMediator mediator, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 10:01:11.086 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - 500 null text/plain; charset=utf-8 7229.66ms
2024-06-17 10:01:16.293 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - null 0
2024-06-17 10:01:16.293 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:01:16.293 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:01:16.355 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__request_Login_0
2024-06-17 10:01:48.764 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 32470.8685ms
2024-06-17 10:01:48.765 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:01:48.766 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'AppUser' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at Users.Percistance.SqlServerBaseReository`1.UpdateAsync(TEntity item, CancellationToken cancellationToken)
   at Users.Application.Comands.UpdateUser.UpdateUserComandHandler.Handle(UpdateUserComand request, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Requests\Comands\UpdateUser\UpdateUserComandHandler.cs:line 40
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 25
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 32
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 34
   at Users.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ValidationBehavior.cs:line 24
   at User.Api.Controllers.UserController.Put(UpdateUserComand newItem, IMediator mediator, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 10:01:48.768 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - 500 null text/plain; charset=utf-8 32475.3544ms
2024-06-17 10:01:51.267 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - null 0
2024-06-17 10:01:51.268 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:01:51.268 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:01:51.274 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__request_Login_0
2024-06-17 10:04:17.496 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 10:04:17.669 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 10:04:17.679 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:04:17.686 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:04:17.699 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 10:04:17.699 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 10:04:17.699 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 10:04:17.699 +03:00 [INF] Hosting environment: Development
2024-06-17 10:04:17.699 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 10:04:18.605 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 10:04:18.883 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 283.2361ms
2024-06-17 10:04:19.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 10:04:19.099 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 1.8753ms
2024-06-17 10:04:19.105 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 10:04:19.137 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.5654ms
2024-06-17 10:04:19.234 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 10:04:19.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.016ms
2024-06-17 10:04:47.370 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - null 0
2024-06-17 10:04:47.374 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 10:04:47.477 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:04:47.499 +03:00 [INF] Route matched with {action = "Put", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Users.Application.Comands.UpdateUser.UpdateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:04:48.749 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__request_Login_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__request_Login_0
2024-06-17 10:04:48.898 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Login] = @p1, [PasswordHash] = @p2, [Phone] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-06-17 10:04:48.930 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:04:48.938 +03:00 [INF] Executed action User.Api.Controllers.UserController.Put (User.Api) in 1436.47ms
2024-06-17 10:04:48.939 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Put (User.Api)'
2024-06-17 10:04:48.945 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users?Id=4&Login=Master&Email=master%40gmail.com&Phone=%2B375299527045 - 200 null application/json; charset=utf-8 1574.6809ms
2024-06-17 10:05:05.278 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users/4 - null null
2024-06-17 10:05:05.281 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:05:05.285 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:05:05.312 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:05:05.324 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__item_Id_0
2024-06-17 10:05:05.340 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:05:05.341 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetById (User.Api) in 55.5457ms
2024-06-17 10:05:05.341 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:05:05.341 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users/4 - 200 null application/json; charset=utf-8 63.0407ms
2024-06-17 10:05:10.491 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5234/users/4 - null null
2024-06-17 10:05:10.495 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Delete (User.Api)'
2024-06-17 10:05:10.498 +03:00 [INF] Route matched with {action = "Delete", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32, MediatR.IMediator) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:05:10.598 +03:00 [INF] Executed action User.Api.Controllers.UserController.Delete (User.Api) in 99.9707ms
2024-06-17 10:05:10.598 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Delete (User.Api)'
2024-06-17 10:05:10.600 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[Users.Application.Comands.DeleteUser.DeleteUserComand]' while attempting to activate 'Users.Application.Behaviors.ValidationBehavior`2[Users.Application.Comands.DeleteUser.DeleteUserComand,System.Boolean]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot, Boolean throwOnConstraintViolation)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at User.Api.Controllers.UserController.Delete(Int32 id, IMediator mediator) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 10:05:10.625 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5234/users/4 - 500 null text/plain; charset=utf-8 134.6029ms
2024-06-17 10:06:19.050 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 10:06:19.201 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 10:06:19.211 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:06:19.216 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:06:19.228 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 10:06:19.228 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 10:06:19.228 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 10:06:19.228 +03:00 [INF] Hosting environment: Development
2024-06-17 10:06:19.228 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 10:06:20.414 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 10:06:20.704 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 295.5375ms
2024-06-17 10:06:20.844 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 10:06:20.846 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 3.3101ms
2024-06-17 10:06:20.854 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 10:06:20.889 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.9887ms
2024-06-17 10:06:21.000 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 10:06:21.094 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.0288ms
2024-06-17 10:06:35.314 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5234/users/4 - null null
2024-06-17 10:06:35.317 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 10:06:35.429 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Delete (User.Api)'
2024-06-17 10:06:35.449 +03:00 [INF] Route matched with {action = "Delete", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32, MediatR.IMediator) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:06:36.682 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:06:36.824 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-17 10:06:36.852 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-06-17 10:06:36.859 +03:00 [INF] Executed action User.Api.Controllers.UserController.Delete (User.Api) in 1407.629ms
2024-06-17 10:06:36.859 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Delete (User.Api)'
2024-06-17 10:06:36.867 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5234/users/4 - 200 null application/json; charset=utf-8 1553.2288ms
2024-06-17 10:06:43.352 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users - null null
2024-06-17 10:06:43.355 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetAll (User.Api)'
2024-06-17 10:06:43.361 +03:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Users.Application.Query.GetAll.GetListQuery, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:06:43.478 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
ORDER BY [u].[Id]
2024-06-17 10:06:43.508 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE 0 = 1
2024-06-17 10:06:43.512 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Users.Application.dto.GetUserDto, Users.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 10:06:43.514 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetAll (User.Api) in 153.6344ms
2024-06-17 10:06:43.515 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetAll (User.Api)'
2024-06-17 10:06:43.515 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users - 200 null application/json; charset=utf-8 162.6417ms
2024-06-17 10:07:22.755 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/users?Login=master&Password=qwerty12345&Phone=%2B375299527045&Email=master%40gmail.com - null 0
2024-06-17 10:07:22.763 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.Post (User.Api)'
2024-06-17 10:07:22.767 +03:00 [INF] Route matched with {action = "Post", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Users.Application.Comands.CreateUser.CreateUserComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:07:22.845 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Trim_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Login] = @__Trim_0
2024-06-17 10:07:22.881 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Login], [PasswordHash], [Phone])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-06-17 10:07:22.899 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Client'
2024-06-17 10:07:22.931 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUserAppRole] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-17 10:07:22.936 +03:00 [INF] Executing CreatedResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:07:22.937 +03:00 [INF] Executed action User.Api.Controllers.UserController.Post (User.Api) in 169.6205ms
2024-06-17 10:07:22.937 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.Post (User.Api)'
2024-06-17 10:07:22.937 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/users?Login=master&Password=qwerty12345&Phone=%2B375299527045&Email=master%40gmail.com - 201 null application/json; charset=utf-8 181.5505ms
2024-06-17 10:07:35.484 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users - null null
2024-06-17 10:07:35.485 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetAll (User.Api)'
2024-06-17 10:07:35.486 +03:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Users.Application.Query.GetAll.GetListQuery, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:07:35.494 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
ORDER BY [u].[Id]
2024-06-17 10:07:35.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE 0 = 1
2024-06-17 10:07:35.501 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Users.Application.dto.GetUserDto, Users.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 10:07:35.501 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetAll (User.Api) in 15.3669ms
2024-06-17 10:07:35.501 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetAll (User.Api)'
2024-06-17 10:07:35.501 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users - 200 null application/json; charset=utf-8 17.3865ms
2024-06-17 10:07:45.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users/5 - null null
2024-06-17 10:07:45.173 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:07:45.176 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:07:45.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:07:45.193 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__item_Id_0
2024-06-17 10:07:45.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:07:45.195 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetById (User.Api) in 19.155ms
2024-06-17 10:07:45.195 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:07:45.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users/5 - 200 null application/json; charset=utf-8 23.5456ms
2024-06-17 10:07:53.089 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5 - null 0
2024-06-17 10:07:53.090 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeAdmin (User.Api)'
2024-06-17 10:07:53.093 +03:00 [INF] Route matched with {action = "MakeAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeAdmin(Users.Application.Comands.GiveUserAdminRole.GiveUserAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:07:53.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:07:53.107 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Admin'
2024-06-17 10:07:53.114 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:07:53.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUserAppRole] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-17 10:07:53.119 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:07:53.119 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeAdmin (User.Api) in 26.2072ms
2024-06-17 10:07:53.119 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeAdmin (User.Api)'
2024-06-17 10:07:53.119 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5 - 200 null application/json; charset=utf-8 29.8418ms
2024-06-17 10:07:59.604 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeMaster?Id=5 - null 0
2024-06-17 10:07:59.604 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeMaster (User.Api)'
2024-06-17 10:07:59.607 +03:00 [INF] Route matched with {action = "MakeMaster", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeMaster(Users.Application.Comands.GiveUserMasterRole.GiveUserMasterRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:07:59.616 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:07:59.620 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Master'
2024-06-17 10:07:59.624 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__masterRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__masterRole_Id_1
2024-06-17 10:07:59.627 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUserAppRole] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-17 10:07:59.629 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:07:59.629 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeMaster (User.Api) in 21.9615ms
2024-06-17 10:07:59.629 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeMaster (User.Api)'
2024-06-17 10:07:59.629 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeMaster?Id=5 - 200 null application/json; charset=utf-8 25.5048ms
2024-06-17 10:08:05.957 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5 - null 0
2024-06-17 10:08:05.958 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:08:05.960 +03:00 [INF] Route matched with {action = "MakeCenterAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeCenterAdmin(Users.Application.Requests.Comands.GiveUserCenterAdminRoleComand.GiveUserCenterAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:08:05.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:08:05.974 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Center admin'
2024-06-17 10:08:05.975 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:08:05.977 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUserAppRole] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-17 10:08:05.978 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:08:05.978 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeCenterAdmin (User.Api) in 17.6963ms
2024-06-17 10:08:05.978 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:08:05.978 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5 - 200 null application/json; charset=utf-8 21.2522ms
2024-06-17 10:08:12.182 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users/5 - null null
2024-06-17 10:08:12.183 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:08:12.183 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:08:12.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:08:12.190 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__item_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__item_Id_0
2024-06-17 10:08:12.191 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:08:12.191 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetById (User.Api) in 8.1576ms
2024-06-17 10:08:12.191 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:08:12.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users/5 - 200 null application/json; charset=utf-8 9.5202ms
2024-06-17 10:08:19.333 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5&RemoveRole=true - null 0
2024-06-17 10:08:19.333 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeAdmin (User.Api)'
2024-06-17 10:08:19.334 +03:00 [INF] Route matched with {action = "MakeAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeAdmin(Users.Application.Comands.GiveUserAdminRole.GiveUserAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:08:19.340 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:08:19.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Admin'
2024-06-17 10:08:19.344 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:08:19.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AppUserAppRole]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-17 10:08:19.355 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:08:19.355 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeAdmin (User.Api) in 21.5873ms
2024-06-17 10:08:19.355 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeAdmin (User.Api)'
2024-06-17 10:08:19.355 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5&RemoveRole=true - 200 null application/json; charset=utf-8 22.4474ms
2024-06-17 10:08:30.312 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5&RemoveRole=true - null 0
2024-06-17 10:08:30.313 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:08:30.313 +03:00 [INF] Route matched with {action = "MakeCenterAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeCenterAdmin(Users.Application.Requests.Comands.GiveUserCenterAdminRoleComand.GiveUserCenterAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:08:30.318 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:08:30.320 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Center admin'
2024-06-17 10:08:30.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:08:30.323 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AppUserAppRole]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-17 10:08:30.325 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:08:30.325 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeCenterAdmin (User.Api) in 12.1947ms
2024-06-17 10:08:30.325 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:08:30.325 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5&RemoveRole=true - 200 null application/json; charset=utf-8 13.1865ms
2024-06-17 10:08:38.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users/5 - null null
2024-06-17 10:08:38.098 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:08:38.098 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:08:38.101 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:08:38.101 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetById (User.Api) in 2.9579ms
2024-06-17 10:08:38.101 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:08:38.101 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users/5 - 200 null application/json; charset=utf-8 3.821ms
2024-06-17 10:08:40.644 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users/5 - null null
2024-06-17 10:08:40.645 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:08:40.645 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:08:40.646 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:08:40.646 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetById (User.Api) in 1.4678ms
2024-06-17 10:08:40.647 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:08:40.647 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users/5 - 200 null application/json; charset=utf-8 2.3239ms
2024-06-17 10:08:52.469 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 10:08:52.489 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 20.6841ms
2024-06-17 10:08:52.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 10:08:52.512 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 0.3659ms
2024-06-17 10:08:52.516 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 10:08:52.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.851ms
2024-06-17 10:08:52.695 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 10:08:52.699 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.5232ms
2024-06-17 10:08:52.713 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/favicon-32x32.png - null null
2024-06-17 10:08:52.730 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-06-17 10:08:52.730 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/favicon-32x32.png - 200 628 image/png 16.9108ms
2024-06-17 10:08:58.152 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users/5 - null null
2024-06-17 10:08:58.152 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:08:58.153 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:08:58.154 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:08:58.154 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetById (User.Api) in 1.6889ms
2024-06-17 10:08:58.154 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:08:58.154 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users/5 - 200 null application/json; charset=utf-8 2.7817ms
2024-06-17 10:09:26.690 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5&RemoveRole=true - null 0
2024-06-17 10:09:26.696 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-17 10:09:26.700 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-17 10:09:26.700 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5&RemoveRole=true - 401 0 null 9.8755ms
2024-06-17 10:09:34.810 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5&RemoveRole=true - null 0
2024-06-17 10:09:34.810 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-17 10:09:34.811 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-17 10:09:34.811 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5&RemoveRole=true - 401 0 null 1.1123ms
2024-06-17 10:09:55.675 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5&RemoveRole=true - null 0
2024-06-17 10:09:55.679 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeAdmin (User.Api)'
2024-06-17 10:09:55.679 +03:00 [INF] Route matched with {action = "MakeAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeAdmin(Users.Application.Comands.GiveUserAdminRole.GiveUserAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:09:55.684 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:09:55.687 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Admin'
2024-06-17 10:09:55.689 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:09:55.690 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:09:55.690 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeAdmin (User.Api) in 10.6137ms
2024-06-17 10:09:55.690 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeAdmin (User.Api)'
2024-06-17 10:09:55.690 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeAdmin?Id=5&RemoveRole=true - 200 null application/json; charset=utf-8 15.4322ms
2024-06-17 10:10:08.167 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users/5 - null null
2024-06-17 10:10:08.168 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:10:08.168 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:10:08.170 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:10:08.170 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetById (User.Api) in 1.7979ms
2024-06-17 10:10:08.170 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:10:08.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users/5 - 200 null application/json; charset=utf-8 2.8197ms
2024-06-17 10:55:11.521 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 10:55:11.678 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 10:55:11.687 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:55:11.692 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:55:11.705 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 10:55:11.705 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 10:55:11.705 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 10:55:11.705 +03:00 [INF] Hosting environment: Development
2024-06-17 10:55:11.705 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 10:55:12.399 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 10:55:12.673 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 285.7415ms
2024-06-17 10:55:12.845 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 10:55:12.847 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 2.7929ms
2024-06-17 10:55:12.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 10:55:12.880 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.6663ms
2024-06-17 10:55:12.981 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 10:55:13.073 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.4456ms
2024-06-17 10:55:34.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users - null null
2024-06-17 10:55:34.407 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 10:55:35.242 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetAll (User.Api)'
2024-06-17 10:55:35.264 +03:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Users.Application.Query.GetAll.GetListQuery, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:55:37.074 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
ORDER BY [u].[Id]
2024-06-17 10:55:37.177 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE 0 = 1
2024-06-17 10:55:37.186 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Users.Application.dto.GetUserDto, Users.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 10:55:37.192 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetAll (User.Api) in 1925.0614ms
2024-06-17 10:55:37.192 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetAll (User.Api)'
2024-06-17 10:55:37.200 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users - 200 null application/json; charset=utf-8 2795.9517ms
2024-06-17 10:56:21.219 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5&RemoveRole=true - null 0
2024-06-17 10:56:21.224 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:56:21.228 +03:00 [INF] Route matched with {action = "MakeCenterAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeCenterAdmin(Users.Application.Requests.Comands.GiveUserCenterAdminRoleComand.GiveUserCenterAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:56:21.336 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:56:21.344 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Center admin'
2024-06-17 10:56:24.987 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:57:17.022 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 10:57:17.185 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 10:57:17.196 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:57:17.200 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:57:17.213 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 10:57:17.213 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 10:57:17.213 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 10:57:17.213 +03:00 [INF] Hosting environment: Development
2024-06-17 10:57:17.213 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 10:57:18.048 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 10:57:18.331 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 290.7632ms
2024-06-17 10:57:18.448 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 10:57:18.450 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 1.7916ms
2024-06-17 10:57:18.459 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 10:57:18.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.0845ms
2024-06-17 10:57:18.582 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 10:57:18.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.057ms
2024-06-17 10:57:25.477 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/users/5 - null null
2024-06-17 10:57:25.480 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 10:57:25.542 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:57:25.560 +03:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:57:26.754 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:57:26.828 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__item_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__item_Id_0
2024-06-17 10:57:26.862 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:57:26.868 +03:00 [INF] Executed action User.Api.Controllers.UserController.GetById (User.Api) in 1305.2663ms
2024-06-17 10:57:26.869 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.GetById (User.Api)'
2024-06-17 10:57:26.876 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/users/5 - 200 null application/json; charset=utf-8 1398.9469ms
2024-06-17 10:57:37.617 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5 - null 0
2024-06-17 10:57:37.622 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-17 10:57:37.626 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-17 10:57:37.626 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5 - 401 0 null 9.6012ms
2024-06-17 10:57:52.760 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5 - null 0
2024-06-17 10:57:52.815 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:57:52.819 +03:00 [INF] Route matched with {action = "MakeCenterAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeCenterAdmin(Users.Application.Requests.Comands.GiveUserCenterAdminRoleComand.GiveUserCenterAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:57:52.854 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:57:52.862 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Center admin'
2024-06-17 10:57:52.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:57:52.976 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AppUserAppRole] ([RoleId], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-17 10:57:52.995 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:57:52.996 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeCenterAdmin (User.Api) in 176.5628ms
2024-06-17 10:57:52.996 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:57:52.996 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5 - 200 null application/json; charset=utf-8 235.8795ms
2024-06-17 10:58:04.588 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5&RemoveRole=false - null 0
2024-06-17 10:58:04.589 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:58:04.590 +03:00 [INF] Route matched with {action = "MakeCenterAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeCenterAdmin(Users.Application.Requests.Comands.GiveUserCenterAdminRoleComand.GiveUserCenterAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:58:04.652 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:58:04.653 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Center admin'
2024-06-17 10:58:04.654 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:58:04.884 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeCenterAdmin (User.Api) in 294.4954ms
2024-06-17 10:58:04.885 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:58:04.887 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Users.Service.Exeptions.BadRequestExeption: Allready admin
   at Users.Application.Requests.Comands.GiveUserCenterAdminRoleComand.GiveUserCenterAdminRoleComandHandler.Handle(GiveUserCenterAdminRoleComand request, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Requests\Comands\GiveUserCenterAdminRoleComand\GiveUserCenterAdminRoleComandHandler.cs:line 86
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 25
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 32
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 34
   at Users.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ValidationBehavior.cs:line 24
   at User.Api.Controllers.UserController.MakeCenterAdmin(GiveUserCenterAdminRoleComand comand, IMediator mediator, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 10:58:04.926 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5&RemoveRole=false - 500 null text/plain; charset=utf-8 338.4212ms
2024-06-17 10:58:11.655 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5&RemoveRole=true - null 0
2024-06-17 10:58:11.656 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:58:11.656 +03:00 [INF] Route matched with {action = "MakeCenterAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeCenterAdmin(Users.Application.Requests.Comands.GiveUserCenterAdminRoleComand.GiveUserCenterAdminRoleComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:58:11.662 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 10:58:11.664 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Name]
FROM [AppUserRole] AS [a]
WHERE [a].[Name] = N'Center admin'
2024-06-17 10:58:11.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_user_Id_0='?' (DbType = Int32), @__adminRole_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[RoleId], [a].[UserId]
FROM [AppUserAppRole] AS [a]
WHERE [a].[UserId] = @__8__locals1_user_Id_0 AND [a].[RoleId] = @__adminRole_Id_1
2024-06-17 10:58:11.677 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AppUserAppRole]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-17 10:58:11.684 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 10:58:11.684 +03:00 [INF] Executed action User.Api.Controllers.UserController.MakeCenterAdmin (User.Api) in 27.7869ms
2024-06-17 10:58:11.684 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.MakeCenterAdmin (User.Api)'
2024-06-17 10:58:11.684 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/MakeCenterAdmin?Id=5&RemoveRole=true - 200 null application/json; charset=utf-8 28.7272ms
2024-06-17 10:59:22.188 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 10:59:22.345 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 10:59:22.355 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:59:22.360 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 10:59:22.374 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 10:59:22.374 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 10:59:22.375 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 10:59:22.375 +03:00 [INF] Hosting environment: Development
2024-06-17 10:59:22.375 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 10:59:23.437 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 10:59:23.698 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 267.7496ms
2024-06-17 10:59:23.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 10:59:23.854 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 2.7858ms
2024-06-17 10:59:23.860 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 10:59:23.885 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.1607ms
2024-06-17 10:59:24.016 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 10:59:24.104 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.8822ms
2024-06-17 10:59:48.985 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/ResetPassword ?Id=5&Password=1234567890 - null 0
2024-06-17 10:59:48.990 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 10:59:49.096 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.ResetPassword (User.Api)'
2024-06-17 10:59:49.114 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Users.Application.Comands.UpdateUserPassword.ResetPasswordComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 10:59:50.221 +03:00 [INF] Executed action User.Api.Controllers.UserController.ResetPassword (User.Api) in 1104.0934ms
2024-06-17 10:59:50.222 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.ResetPassword (User.Api)'
2024-06-17 10:59:50.224 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`2[Users.Application.Comands.UpdateUserPassword.ResetPasswordComand,Users.Application.dto.GetUserDto]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 25
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 32
   at Users.Application.Behaviors.ContextTransactionBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ContextTransactionBehavior.cs:line 34
   at Users.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\Users.Application\Behaviors\ValidationBehavior.cs:line 24
   at User.Api.Controllers.UserController.ResetPassword(ResetPasswordComand newItem, IMediator mediator, CancellationToken cancellationToken) in D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api\Controllers\UserController.cs:line 87
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-17 10:59:50.267 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/ResetPassword ?Id=5&Password=1234567890 - 500 null text/plain; charset=utf-8 1283.1645ms
2024-06-17 11:01:20.666 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 11:01:20.820 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 11:01:20.829 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 11:01:20.834 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 11:01:20.849 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 11:01:20.849 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 11:01:20.849 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 11:01:20.849 +03:00 [INF] Hosting environment: Development
2024-06-17 11:01:20.849 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 11:01:21.501 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 11:01:21.836 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 343.6662ms
2024-06-17 11:01:22.053 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 11:01:22.056 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 3.3106ms
2024-06-17 11:01:22.061 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 11:01:22.094 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.1301ms
2024-06-17 11:01:22.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 11:01:22.286 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.5051ms
2024-06-17 11:01:47.336 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/users/ResetPassword ?Id=5&Password=1234567890 - null 0
2024-06-17 11:01:47.340 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-17 11:01:47.450 +03:00 [INF] Executing endpoint 'User.Api.Controllers.UserController.ResetPassword (User.Api)'
2024-06-17 11:01:47.469 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Users.Application.Comands.UpdateUserPassword.ResetPasswordComand, MediatR.IMediator, System.Threading.CancellationToken) on controller User.Api.Controllers.UserController (User.Api).
2024-06-17 11:01:48.707 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__request_Id_0
2024-06-17 11:01:48.836 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Login] = @p1, [PasswordHash] = @p2, [Phone] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-06-17 11:01:48.865 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.dto.GetUserDto'.
2024-06-17 11:01:48.872 +03:00 [INF] Executed action User.Api.Controllers.UserController.ResetPassword (User.Api) in 1401.3182ms
2024-06-17 11:01:48.873 +03:00 [INF] Executed endpoint 'User.Api.Controllers.UserController.ResetPassword (User.Api)'
2024-06-17 11:01:48.879 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/users/ResetPassword ?Id=5&Password=1234567890 - 200 null application/json; charset=utf-8 1543.5306ms
2024-06-17 14:39:35.764 +03:00 [INF] User profile is available. Using 'C:\Users\vitia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-17 14:39:35.939 +03:00 [WRN] Overriding address(es) 'http://localhost:5234, http://localhost:5235'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-06-17 14:39:35.948 +03:00 [WRN] HTTP/2 is not enabled for 127.0.0.1:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 14:39:35.953 +03:00 [WRN] HTTP/2 is not enabled for [::1]:5234. The endpoint is configured to use HTTP/1.1 and HTTP/2, but TLS is not enabled. HTTP/2 requires TLS application protocol negotiation. Connections to this endpoint will use HTTP/1.1.
2024-06-17 14:39:35.966 +03:00 [INF] Now listening on: http://localhost:5235
2024-06-17 14:39:35.966 +03:00 [INF] Now listening on: http://localhost:5234
2024-06-17 14:39:35.967 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 14:39:35.967 +03:00 [INF] Hosting environment: Development
2024-06-17 14:39:35.967 +03:00 [INF] Content root path: D:\учёба\курсы ITA\Cycle Service\Cycle Service\UserMicroservice\User.Api
2024-06-17 14:39:36.703 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2024-06-17 14:39:36.991 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 298.185ms
2024-06-17 14:39:37.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 14:39:37.185 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13752 application/javascript; charset=utf-8 2.3558ms
2024-06-17 14:39:37.194 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_vs/browserLink - null null
2024-06-17 14:39:37.228 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.5147ms
2024-06-17 14:39:37.334 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2024-06-17 14:39:37.425 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 90.5201ms
